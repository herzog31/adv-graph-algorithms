<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta name="description" content="Graphalgorithmen" />
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <meta name="author" content="Lisa Velden">
    <link rel="stylesheet" type="text/css" href="css/tum-theme2/jquery-ui-1.10.1.custom.min.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>
    <script src="js/underscore-min.js" type="text/javascript"></script>
    <script src="js/utilities.js" type="text/javascript"></script>
    <script src="js/siteAnimation.js" type="text/javascript"></script>
    <script src="js/canvasDrawing.js" type="text/javascript"></script>
    <script src="js/graph.js" type="text/javascript"></script>
    <script src="js/lib/priorityQueueArray.js" type="text/javascript"></script>
    <script src="js/textDB.js" type="text/javascript"></script>
    <script src="js/algorithm.js" type="text/javascript"></script>
    <script src="graphs/graphs.js" type="text/javascript"></script>
    <!--<script src="js/aufgabe1.js" type="text/javascript"></script>-->
    <script src="js/aufgabe2.js" type="text/javascript"></script>
    <!--<script src="js/aufgabe3.js" type="text/javascript"></script>-->

    <title>Graphalgorithmen</title>
</head>
<body>
    <script>
		$(document).ready(initializeSiteLayout);
    </script>
    <header>
        <img src="img/dijkstra_kette.png" id="picTitle" alt="Logo">
        <img src="img/title_floyd_warshall.png" id="figTitle" alt="Der Floyd-Warshall Algorithmus">
        <img src="img/TUMLogo_cropped.png" id="tumTitle" alt="Technische Universität München">
        <div></div>
    </header>
    <div id="tabs">
        <ul>
            <li>
                <a href="#tab_te"><span>Einführung</span></a>
            </li>
            <li>
                <a href="#tab_tg"><span>Graph erstellen</span></a>
            </li>
            <li>
                <a href="#tab_ta"><span>Algorithmus ausführen</span></a>
            </li>
            <li>
                <a href="#tab_ti"><span>Beschreibung des Algorithmus</span></a>
            </li>
            <li>
                <a href="#tab_tf1"><span>Forschungsaufgabe 1</span></a>
            </li>
            <li>
                <a href="#tab_tf2"><span>Forschungsaufgabe 2</span></a>
            </li>
            <li>
                <a href="#tab_tw"><span>Weiteres</span></a>
            </li>
        </ul>
        <div id="tab_te">
            <div id="te_div_Einfuehrungstext">
                <div id="te_div_beispiel1Container"><img id="te_img_dijkstraLR" src="img/dijkstraLR.png" alt="Einfacher Graph mit 4 Knoten.">
                    <p>
                        Wie komme ich am günstigsten von links nach rechts?
                    </p>
                </div>
                <h1>Kürzeste Pfade zwischen allen Paaren von Knoten</h1>
                <p>
                    It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).
                </p>
                <h2>Hier wird der Floyd-Warshall-Algorithmus vorgestellt, der günstigste Wege berechnet.</h2>
                <div id ="te_div_Entscheidung">
                    <h2>Was möchtest du zuerst tun?</h2>
                    <button id="te_button_gotoDrawGraph">
                        Den Algorithmus testen!
                    </button>
                    <button id="te_button_gotoIdee">
                        Genauere Beschreibung des Algorithmus lesen
                    </button>
                </div>
            </div>
        </div>
        <div id="tab_tg">
            <div>
                <div class="canvasWrapper">
                    <canvas class="graphCanvas" id="tg_canvas_graph" width="700" height="500">
                        Ihr Browser unterstützt kein HTML5 Canvas. Bitte verwenden Sie einen modernen Browser, z.B.<a href="http://www.mozilla.org/de/firefox">Mozilla Firefox</a>
                    </canvas>
                    <div class="Legende" id="tg_div_Legende">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                        <div class="LegendeText">
                            <table>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/knoten.png" alt="Knoten" class="LegendeIcon"></td>
                                    <td><span>Knoten</span></td>
                                </tr>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/kante.png" alt="Knoten" class="LegendeIcon"></td>
                                    <td><span>Kante mit Gewicht 50</span></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="LegendeMinimized">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                    </div>
                </div>
                <div id="tg_div_statusWindow" class="statusWindow">
                    <h2>Auf welchem Graph soll der Algorithmus ausgeführt werden?</h2>
                    <div id="tg_div_statusErklaerung">
                        <p>
                            Um einen Knoten zu erstellen, mache einen Doppelklick in das Zeichenfeld.
                        </p>
                        <p>
                            Um eine Kante zu erstellen, klicke zunächst auf den Ausgangsknoten und dann auf den Zielknoten.
                        </p>
                        <p>
                            Das Kantengewicht kann mit einem Doppelklick auf die Kante verändert werden.
                        </p>
                        <p>
                            Ein Rechtsklick löscht Kanten und Knoten.
                        </p>
                    </div>
                    <h3>Keine Lust, selbst einen Graph zu erstellen?
                    <br>
                    </h3>
                    <h3>Nimm ein fertiges Beispiel!
                    <br>
                    </h3>
                    <select id="tg_select_GraphSelector" name="Wähle einen Graphen">
                        <option selected id="tg_selectoption_empty">Selbsterstellter Graph</option>
                        <option>Zufallsgraph</option>
                        <option>Standardbeispiel</option>
                        <option>Kreis</option>
                        <option>Großstädte Europas</option>
                    </select>
                    <p>
                        <button id="tg_button_gotoAlgorithmTab">
                            Fertig &ndash; weiter zum Algorithmus!
                        </button>
                    </p>
                </div>
            </div>
        </div>
        <div id="tab_ta">
            <div>
                <div class="canvasWrapper">
                    <canvas class="graphCanvas" id="ta_canvas_graph" width="700" height="500">
                        Ihr Browser unterstützt kein HTML5 Canvas. Bitte verwenden Sie einen modernen Browser, z.B.<a href="http://www.mozilla.org/de/firefox">Mozilla Firefox</a>
                    </canvas>
                    <div class="Legende">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                        <div class="LegendeText">
                            <table>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/startknoten.png" alt="Start Knoten" class="LegendeIcon"></td>
                                    <td><span>Startknoten, von dem aus die Entfernungen und günstigsten Wege berechnet werden.</span></td>
                                </tr>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/aktuellerKnoten.png" alt="Aktueller Knoten" class="LegendeIcon"></td>
                                    <td><span>Knoten, der gerade bearbeitet wird</span></td>
                                </tr>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/PQKnoten.png" alt="Knoten in Warteschlange" class="LegendeIcon"></td>
                                    <td><span>Knoten, der sich in der Warteschlange befindet</span></td>
                                </tr>
                                <tr class="LegendeTabelle" id="ta_tr_LegendeClickable">
                                    <td class="LegendeTabelle"><img src="img/markierteKante.png" alt="Knoten" class="LegendeIcon"></td>
                                    <td><span>"Vorgängerkante", die der günstigste Weg zum Knoten benutzt.</span></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="LegendeMinimized">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                    </div>
                </div>
                <div id="ta_div_statusWindow" class="statusWindow">
                    <h2 class="">Status des Algorithmus</h2>
                    <div id="matrix-overlay" style="display: none">
                        <div id="matrix-container"></div>
                        <button id='tg_button_trol' onclick='hideMatrixPopup();' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only' role='button' aria-disabled='false'>
                            <span class='ui-button-text'>Matrix verstecken</span>
                        </button>
                    </div>
                    <div id="ta_div_abspielbuttons"></div>
                    <div id="ta_div_statusTabs">
                        <ul>
                            <li>
                                <a href="#ta_div_statusErklaerung">Erklärung</a>
                            </li>
                            <li>
                                <a href="#ta_div_statusPseudocode">Pseudocode</a>
                            </li>
                        </ul>
                        <div id="ta_div_statusErklaerung">
                            <div id="ta_div_statusText"></div>
                        </div>
                        <div class="PseudocodeWrapper" id="ta_div_statusPseudocode">
                            <p class="pseudocode" id="ta_p_l1">BEGIN</p>
                            <p class="pseudocode" id="ta_p_l2"> for each vertex v</p>
                            <p class="pseudocode" id="ta_p_l3">  d[v][v] ← 0</p>
                            <p class="pseudocode" id="ta_p_l4"> for each edge (u,v)</p>
                            <p class="pseudocode" id="ta_p_l5">  d[u][v] ← w(u,v)</p>
                            <p class="pseudocode" id="ta_p_l6"> for k from 1 to |V|</p>
                            <p class="pseudocode" id="ta_p_l7">  for i from 1 to |V|</p>
                            <p class="pseudocode" id="ta_p_l8">   for j from 1 to |V|</p>
                            <p class="pseudocode" id="ta_p_l9">    if d[i][j] > d[i][k] + d[k][j]</p>
                            <p class="pseudocode" id="ta_p_l10">     d[i][j] ← d[i][k] + d[k][j]</p>
                            <p class="pseudocode" id="ta_p_l12">    end if</p>
                            <p class="pseudocode" id="ta_p_l13">END</p>
                            <!-- <p class="pseudocode" id="ta_p_l15">END</p> -->
                            <!-- <p class="pseudocode" id="ta_p_l16">END</p> -->
                        </div>
                        <div id="ta_div_PQ">
                            <button id='tg_button_showMatrix' onclick='showMatrixPopup();' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only' role='button' aria-disabled='false'>
                                <span class='ui-button-text'>Komplette Matrix zeigen</span>
                            </button>
                            <h3 id="ta_title_pq" class="pq_hidden">Warteschlange:</h3>
                            <canvas class="prioCanvas" id="pqCanvas" width="285" height="185">
                                Ihr Browser unterstützt kein HTML5 Canvas. Bitte verwenden Sie einen modernen Browser, z.B.<a href="http://www.mozilla.org/de/firefox">Mozilla Firefox</a>
                            </canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div id="ta_div_confirmTabChange" title="Aufgabe abbrechen?" class="tabChangeWarningDialog">
                <h2>Beim Wechsel des Tabs wird die Aufgabe abgebrochen.</h2>
                <p>
                    Du kannst die Anwendung <a href="#" target="_blank" tabindex=-1> in einem anderen Browserfenster</a> öffnen, um parallel einen anderen Tab zu lesen.
                </p>
            </div>
            <div id="ta_div_completeMatrix" title="Komplette Matrix"></div>
        </div>
        <div id="tab_ti">
            <div id="ti_div_Einfuehrungstext">
                <div class="BeispielbildContainer"><figure><img id="ti_img_beispiel1" src="img/dijkstraLR.png" alt="Einfacher Graph mit 4 Knoten." width="250"></figure>
                    <p>
                        Wie komme ich am günstigsten von links nach rechts?
                    </p>
                </div>

                <h1>Kürzeste Wege</h1>
                <p>
                    Oft möchte man wissen, welches der kürzeste Weg von a nach b ist. Dazu kann man Orte als Knoten in einem Graphen darstellen, welche durch Kanten verbunden sind.
                    Diese Kanten stellen die Wege zwischen den Orten dar. Sie können Beschriftungen haben wie Weglängen in Metern oder Kilometern, aber auch Fahrzeiten oder Mautgebühren für den Weg.
                <p>
                    Die Kantenbeschriftungen werden im Allgemeinen als <strong>Kantenkosten</strong> oder -gewichte bezeichnet.
                </p>
                <p>
                    Mit dem Algorithmus von Dijkstra kann man kürzeste beziehungsweise kostengünstigste Wege berechnen, sofern alle Kosten positive Zahlen sind.
                    Falls auch negative Zahlen auftreten, funktioniert der Algorithmus nicht mehr. In diesem Falle sollte man auf den <a href="http://www-m9.ma.tum.de/material/spp/Bellman-Ford-Algorithmus.html">Bellman-Ford-Algorithmus</a> zurückgreifen,
                    dieser kann auch mit negativen Kantenkosten umgehen.
                </p>

                <h1>Idee des Algorithmus</h1>
                <div class="BeispielbildContainer">
                    <figure><img id="ti_img_beispiel4_1" src="img/bsp_4_1.png" alt="Kante vor Update" width="250"><figcaption>Die Kante ist eine Abkürzung:
                        <br>
                        Wir wissen, dass es uns 20 kostet, um vom Startknoten zum linken Knoten zu gelangen. Der Weg vom linken zum rechten Knoten kostet 1.</figcaption></figure
                    <figure><img id="ti_img_beispiel4_2" src="img/bsp_4_2.png" alt="Kante vor Update" width="250"><figcaption>Also kommt man vom Startknoten zum rechten Knoten mit Kosten 21.</figcaption></figure>
                </div>
                <p>
                    Der Dijkstra-Algorithmus berechnet die <strong>Kosten</strong> der günstigsten Wege von einem Startknoten aus zu allen anderen Knoten im Graph.
                <p>
                    Der Algorithmus beginnt bei einem Startknoten und wählt schrittweise über die als nächstes erreichbaren Knoten die momentan günstigsten Wege aus.
                    Dabei kann er auch Verbesserungen vornehmen. Das tut er so lange, bis alle Knoten besucht wurden und kein besserer Weg mehr gefunden wurde.
                </p>
                <p>
                    Um den Algorithmus auszuführen, braucht man eine Warteschlange. Dort werden alle Knoten, die man bereits gefunden hat, eingefügt.
                    Der Knoten, zu dem momentan der güstigste Weg vom Startknoten aus führt, steht ganz vorne in dieser Warteschlange.
                </p>
                <p>
                    Zunächst wird der Algorithmus initialisiert:
                </p>
                <ul>
                    <li>
                        <strong>Der Weg zum Startknoten hat Kosten 0</strong>, denn seine Entfernung zu sich selbst ist natürlich 0.
                    </li>
                    <li>
                        <strong>Zu den anderen Knoten ist noch kein Weg bekannt</strong>, darum werden ihre <strong>Kosten</strong> zunächst mit <strong>unendlich</strong> bewertet. Im Laufe des Algorithmus sollen diese Kosten verbessert werden, wobei sich der Algorithmus immer den bisher günstigsten gefundenen Weg zu jedem Knoten merkt.
                    </li>
                    <li>
                        Der Startknoten wird in die <strong>Warteschlange</strong> eingefügt.
                    </li>
                </ul>
                <p>
                    Nun wird der vorderste Knoten aus der Warteschlange entnommen. Zu Beginn kann dies nur der Startknoten sein. Dann werden alle Nachbarknoten
                    des entnommenen Knotens  mit den jeweiligen Kanten betrachtet und auf folgende Bedingung geprüft:
                    <strong>Ist der Knoten in der Warteschlange enthalten und sind die Kosten über die neue Kante geringer als die bisherigen Kosten?</strong>
                </p>
                <p>
                    Falls dies der Fall ist, werden die Kosten für diesen Knoten auf den neuen Wert verringert.
                    Ansonsten wird auf eine weitere Bedingung geprüft:
                    <strong>Ist der Knoten bisher noch gar nicht besucht worden?</strong>
                    Falls ja, wird er nun in die Warteschlange eingefügt,
                    damit später auch die Kanten, die von ihm aus weggehen, betrachtet werden können.
                    Außerdem erhält dieser Knoten die Kosten, die sich aus der Summe der Kosten zu seinem Vorgängerknoten
                    und den Kosten der neuentdeckten Kante zu ihm selbst ergeben.
                </p>
                <p>
                    Es werden nun so lange Knoten aus der Warteschlange entnommen und ihre Nachbarknoten auf diese beiden Bedingungen geprüft, bis keine Knoten mehr in der Warteschlange enthalten sind.
                    Dann ist der Algorithmus fertig und hat von dem Startknoten ausgehend zu allen anderen Knoten die jeweils günstigsten Wege gefunden.
                </p>

                <div class="BeispielbildContainer"><figure><img id="ti_img_beispiel3" src="img/bsp3.png" alt="Graph mit eingezeichneten Abstandswerten" width="250"><figcaption>Der grüne Weg vom Startknoten ist der günstigste Weg. Er benutzt 3 Kanten.</figcaption></figure>
                </div>

                <h1>Konstruktion des günstigsten Weges</h1>
                <p>
                    Bei jeder Aktualisierung der Kosten speichert der Algorithmus die Kante, mit deren Hilfe er aktualisiert wurde, als <strong>Vorgängerkante</strong> des Knotens.
                </p>
                <p>
                    Am Ende des Algorithmus kann dann der günstigste Weg für jeden Knoten konstruiert werden, indem man so lange über Vorgängerkanten läuft, bis man am Startknoten angekommen ist.
                </p>
                <p>
                    Wenn es von dem Startknoten aus zu einem Knoten keinen Weg gibt, so bleiben seine Kosten unendlich, was bedeutet, das dieser Knoten niemals erreichbar ist.
                </p>

                <h1>Was nun?</h1>
                <div class="Entscheidungsweg" id="ti_div_EntscheidungLeft">
                    <h3>Einen Graph erstellen und den Algorithmus durchspielen</h3>
                    <button id="ti_button_gotoDrawGraph">
                        Graph erstellen und daran den Algorithmus testen
                    </button>
                    <button id="ti_button_gotoAlgorithm">
                        Algorithmus am fertigen Beispiel ausprobieren
                    </button>
                </div>
                <div class="Entscheidungsweg" id="ti_div_EntscheidungRight">
                    <h3>Sein Wissen an den Forschungsaufgaben testen</h3>
                    <button id="ti_button_gotoFA1">
                        Forschungsaufgabe: In welcher Reihenfolge werden die Knoten aus der Warteschlange entnommen?
                    </button>
                    <br>
                    <button id="ti_button_gotoFA2">
                        Forschungsaufgabe: Welche Kosten haben die Kanten?
                    </button>
                    <br>
                    <button id="ti_button_gotoFA3">
                        Forschungsaufgabe: Was passiert bei negativen Kantenkosten?
                    </button>
                </div>
            </div>
        </div>

        <div id="tab_tf1">
            <div>
                <div class="canvasWrapper">
                    <canvas class="graphCanvas" id="tf1_canvas_graph" width="700" height="500">
                        Ihr Browser unterstützt kein HTML5 Canvas. Bitte verwenden Sie einen modernen Browser, z.B.<a href="http://www.mozilla.org/de/firefox">Mozilla Firefox</a>
                    </canvas>
                    <div class="Legende">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                        <div class="LegendeText">
                            <table>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/startknoten.png" alt="Start Knoten" class="LegendeIcon"></td>
                                    <td><span>Startknoten, von dem aus die Entfernungen und günstigsten Wege berechnet werden.</span></td>
                                </tr>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/ordering_node.png" alt="Knoten in Warteschlange" class="LegendeIcon"></td>
                                    <td><span>Knoten, der korrekt ausgewählt wurde</span></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="LegendeMinimized">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                    </div>
                </div>
                <div id="tf1_div_statusWindow" class="statusWindow">
                    <h2>In welcher Reihenfolge werden die Knoten aus der Warteschlange entnommen?</h2>
                    <div id="tf1_div_Abspielbuttons"></div>
                    <select id="tf1_select_aufgabeGraph" name="Wähle einen Graphen">
                        <option selected>Selbsterstellter Graph</option>
                        <option>Zufallsgraph</option>
                        <option>Standardbeispiel</option>
                        <option>Kreis</option>
                    </select>
                    <div id="tf1_div_statusErklaerung">
                        <h3>Wähle zuerst den Graphen, mit dem du arbeiten möchtest.</h3>
                        <h3>Klicke danach auf den Startknoten, um die Aufgabe zu beginnen.</h3>
                        <p>
                            Klicke anschließend in der Reihenfolge auf die Knoten, in der sie der Algorithmus aus der Warteschlange entnehmen soll.
                        </p>
                    </div>
                    <div id="tf1_div_Frage"></div>
                    <div id="tf1_div_Antworten"></div>
                </div>
            </div>
            <div title="Forschungsaufgabe 1" class="tabIntroDialog">
                <h2> In welcher Reihenfolge werden die Knoten aus der Warteschlange entnommen? </h2>
                <p>
                    Deine Aufgabe ist es nun, die Knoten des Graphen in der Reihenfolge anzuklicken, in der sie aus der Warteschlange entnommen würden.
                    Dies entspricht der Reihenfolge, in der die Knoten bei der Ausführung des Algorithmus rot markiert würden.
                </p>
            </div>
            <div id="tf1_div_confirmTabChange" title="Aufgabe abbrechen?" class="tabChangeWarningDialog">
                <h2>Beim Wechsel des Tabs wird die Aufgabe abgebrochen.</h2>
                <p>
                    Du kannst die Anwendung <a href="#" target="_blank" tabindex=-1> in einem anderen Browserfenster</a> öffnen, um parallel einen anderen Tab zu lesen.
                </p>
            </div>
        </div>
        <div id="tab_tf2">
            <div>
                <div class="canvasWrapper">
                    <canvas class="graphCanvas" id="tf2_canvas_graph" width="700" height="500">
                        Ihr Browser unterstützt kein HTML5 Canvas. Bitte verwenden Sie einen modernen Browser, z.B.<a href="http://www.mozilla.org/de/firefox">Mozilla Firefox</a>
                    </canvas>
                    <div class="Legende">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                        <div class="LegendeText">
                            <table>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/startknoten.png" alt="Knoten" class="LegendeIcon"></td>
                                    <td><span>Startknoten, von dem aus die Entfernungen und günstigsten Wege berechnet werden.</span></td>
                                </tr>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/kante_richtig.png" alt="Knoten in Warteschlange" class="LegendeIcon"></td>
                                    <td><span>Kante, für die die richtigen Kosten gewählt wurden</span></td>
                                </tr>
                                <tr>
                                    <td class="LegendeTabelle"><img src="img/kante_falsch.png" alt="Knoten" class="LegendeIcon"></td>
                                    <td><span>Kante, für die falsche Kosten eingetragen wurden.</span></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="LegendeMinimized">
                        <h2 class="LegendeHeader"><button class="LegendeMin"></button> Legende</h2>
                    </div>
                </div>
                <div id="tf2_div_statusWindow" class="statusWindow">
                    <h2 class="">Welche Kosten haben die Kanten?</h2>
                    <div id="tf2_div_statusErklaerung">
                        <h3>Entfernungen der Knoten:</h3>
                        <table id="matrix">
                        <tbody>
                          <tr>
                             <td></td>
                             <td class="node_label">a</td>
                             <td class="node_label">b</td>
                             <td class="node_label">c</td>
                             <td class="node_label">d</td>
                             <td class="node_label">e</td>
                             <td class="node_label">f</td>
                             <td class="node_label">g</td>
                             <td class="node_label">h</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">a</td>
                             <td>0</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">b</td>
                             <td>12</td>
                             <td>0</td>
                             <td>3</td>
                             <td>12</td>
                             <td>8</td>
                             <td>2</td>
                             <td>5</td>
                             <td>10</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">c</td>
                             <td>9</td>
                             <td>14</td>
                             <td>0</td>
                             <td>9</td>
                             <td>5</td>
                             <td>16</td>
                             <td>11</td>
                             <td>16</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">d</td>
                             <td>17</td>
                             <td>22</td>
                             <td>8</td>
                             <td>0</td>
                             <td>13</td>
                             <td>24</td>
                             <td>2</td>
                             <td>7</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">e</td>
                             <td>4</td>
                             <td>9</td>
                             <td>12</td>
                             <td>4</td>
                             <td>0</td>
                             <td>11</td>
                             <td>6</td>
                             <td>11</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">f</td>
                             <td>11</td>
                             <td>4</td>
                             <td>7</td>
                             <td>16</td>
                             <td>12</td>
                             <td>0</td>
                             <td>3</td>
                             <td>8</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">g</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>0</td>
                             <td>5</td>
                          </tr>
                          <tr class="table-row">
                             <td class="node_label">h</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>∞</td>
                             <td>1</td>
                             <td>0</td>
                          </tr>
                        </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div title="Forschungsaufgabe 2" class="tabIntroDialog">
                <h2> Welche Kosten haben die Kanten? </h2>
                <p>
                    Hier siehst du in einer Tabelle, welche Entfernungen die Knoten zum Startknoten in welcher Runde haben. Allerdings sind nicht alle Felder ausgefüllt.
                </p>
                <p>
                    Kannst du herausfinden, welche Kosten die Kanten haben? Klicke einfach doppelt auf eine Kante im Zeichenbereich und trage die Kosten ein, die diese Kante haben muss.
                </p>
            </div>
            <div id="tf2_div_confirmTabChange" title="Aufgabe abbrechen?" class="tabChangeWarningDialog">
                <h2>Beim Wechsel des Tabs wird die Aufgabe abgebrochen.</h2>
                <p>
                    Du kannst die Anwendung <a href="#" target="_blank" tabindex=-1> in einem anderen Browserfenster</a> öffnen, um parallel einen anderen Tab zu lesen.
                </p>
            </div>
        </div>
        <div id="tab_tw">
            <div id="tw_Accordion">
                <h3>Wie sieht der (Pseudo-)Code des Algorithmus aus?</h3>
                <div>
                    <pre><code>Eingabe: Gewichteter, ungerichteter oder gerichteter Graph G=(V,E) mit Gewichtsfunktion l,
         wobei alle Gewichte positiv sind.
Ausgabe: Eine Liste {d(v[j]) : j = 1,..,n}, 
         welche die Distanzen dist(v[1],v[j]) = d(v[j]) enthält.</code></pre>
                    <hr>
                    <pre><code>
BEGIN
    d(v[1]) &larr; 0
    FOR i = 2,..,n DO
        d(v[i]) &larr; &#8734;, parent(v[i]) &larr; NULL
    WHILE queue &ne; &empty; DO
        u = queue.extractMin()
        FOR ALL (u,w) &isin; E DO
            dist &larr; d(u) + l(u,w)
            IF w &isin; queue AND d(w) > dist DO
                d(w) = dist, parent(w) = (u,w)
            ELSE IF parent(w) == NULL THEN
                d(w) = dist, parent(w) = (u,w)
                queue.insert(w,dist)
END</code></pre>
                </div>
                <h3>Wie schnell ist der Algorithmus?</h3>
                <div>
                    <h2>Geschwindigkeit von Algorithmen</h2>
                    <p>
                        Die Geschwindigkeit von Algorithmen wird üblicherweise in der <strong>Anzahl an Einzelschritten</strong> gemessen, die der Algorithmus bei der Ausführung benötigt.
                    </p>
                    <p>
                        Einzelschritte sind beispielsweise:
                    </p>
                    <ul>
                        <li>
                            Zuweisungen &ndash; Weise Knoten 1 den Wert 20 zu.
                        </li>
                        <li>
                            Vergleiche  &ndash; Ist 20 größer als 23?
                        </li>
                        <li>
                            Vergleich und Zuweisung  &ndash; Falls 20 größer als 15 ist, setze Variable <var>n</var> auf 20.
                        </li>
                        <li>
                            Einfache Arithmetische Operationen &ndash; Was ist 5 + 5 ?
                        </li>
                    </ul>
                    <p>
                        Da es sehr schwierig sein kann, diese Einzelschritte exakt zu zählen, möchte man nur die ungefähre <strong>Größenordnung</strong> der Anzahl Schritte wissen.
                        Man spricht auch von der <strong>Laufzeit</strong> des Algorithmus.
                        Meistens ist es besonders interessant, zu wissen, wie die Geschwindigkeit des Algorithmus von der Größe der Eingabe (hier: Anzahl Kanten und Knoten im Graph) abhängt.
                    </p>
                    <h2>Laufzeit des Dijkstra-Algorithmus</h2>
                    <p>
                        Nehmen wir an, dass der Dijkstra-Algorithmus auf einem Graph mit <var>n</var> Knoten und <var>m</var> Kanten ausgeführt wird.
                    </p>
                    <p>
                        Da jeder Knoten des Graphen betrachtet wird, brauchen wir mindestens <var>n</var> Schritte.
                    </p>
                    <p>
                        Um einen Knoten zu behandeln, muss er zuerst aus der Warteschlange entnommen werden. Da wir jedoch immer nur den Knoten, der momentan die geringste Distanz zum Startknoten hat, entnehmen, kann man sich die Warteliste so vorstellen, dass aus allen <var>n</var> Knoten derjenige mit der geringsten Distanz gesucht wird. Um die Knoten auszuwählen braucht der Algorithmus also <var>n &middot; n</var> Einzelschritte.
                    </p>
                    <p>
                        Um neue Knoten in die Warteschlange einzufügen, werden die Nachbarknoten der ausgehenden Kanten dieses Knotens betrachtet und anhand des Gewichts entschieden, ob der Nachbarknoten in die Warteschlange eingereiht wird oder nicht. Somit werden alle erreichbaren Kanten betrachtet, was bedeutet, dass der Algortihmus weitere <var>m</var> Einzelschritte benötigt.
                    </p>
                    <p>
                        Insgesamt liegt die Laufzeit des Algortihmus also in der Größenordnung <var>m + n&sup2;</var>, wenn man die Warteschlange als Liste von Knoten betrachtet.
                    </p>
                    <p>
                        Es ist auch möglich diese Laufzeit weiter zu verbessern, sodass sie nur noch in der Größenordnung <var>m + n &middot; log(n)</var> liegt. Dazu muss man jedoch für die Warteschlange eine andere Datenstruktur, nämlich einen Heap verwenden.
                    </p>
                </div>
                <h3>Berechnet der Algorithmus wirklich die kürzesten Wege?</h3>
                <div>
                    <h2>Ein Beweis durch Widerspruch</h2>
                    <p>Da bei diesem Algorithmus die Kantenkosten positiv sein müssen, gilt folgende Aussage: <strong>Alle Teilstrecken, die auf einem kürzesten Weg liegen, sind ebenfalls kürzeste Wege.</strong>
                    Um diese Aussage zu beweisen, nehmen wir das Gegenteil an: Es gibt eine Teilstrecke, die auf einem kürzesten Weg liegt, die selbst aber kein kürzester Weg ist. Sei dies in unserem Beispiel die Teilstrecke zwischen b und c, die auf dem kürzesten Weg von a nach d liegt.</p>
                    <p><figure class="fig"><img src="img/graph_korrekt.png" alt="Beispielgraph" height="120"></figure></p>
                    <p>Wenn diese Teilstrecke nun kein kürzester Weg ist, dann muss es einen anderen kürzeren Weg geben. Dieser Weg ist durch den orangen Pfeil in dem untenstehenden Bild dargestellt. Nun gibt es einen neuen Weg von a nach d, der zwischen b und c den orangenen Weg benutzt und kürzer sein muss als der alte Weg. Dies widerspricht aber unserer Annahme, dass der ursprüngliche Weg von a nach d bereits ein kürzester Weg war.</p>
                    <p><figure class="fig"><img src="img/graph_korrekt_ggbsp.png" alt="Gegenbeispiel" height="180"><figcaption>Der orangene Weg sei irgendein kürzerer Weg von b nach c</figcaption></figure></p>
                    <p>Da wir einen Widerspruch zu dem Gegenteil unserer Aussage gefunden haben, gilt unsere eigentliche Aussage, dass alle Teilstrecken, die auf einem kürzesten Weg liegen, ebenfalls kürzeste Wege sind. Damit wissen wir auch, dass alle Wege, die der Algorithmus vom Startknoten aus berechnet, kürzeste Wege sind.</p>
                </div>
                <h3>Wie löst man das Problem negativer Kantenkosten?</h3>
                <div>
                    <p>In Forschungsaufgabe 3 hast du gesehen, dass negative Kantenkosten beim Dijkstra-Algorithmus nicht erlaubt sind, da andernfalls nicht garantiert werden kann, dass die richtigen kürzesten Wege gefunden werden:
                    Der Dijkstra-Algorithmus findet vom Startknoten zum Knoten f einen kürzesten Weg mit Kosten 4, obwohl der kürzeste Weg eigentlich Kosten 3 hätte.</p>
                    <p><figure class="fig"><img src="img/FA3Example.png" alt="Negatives Beispiel aus Forschungsaufgabe 3" height="250"><figcaption>Beispielgraph aus Forschungsaufgabe 3</figcaption></figure></p>
                    <br clear="all">
                    <p>Was macht man nun also, wenn eine Kante negative Kosten hat? Eine Möglichkeit wäre es, alle Kantenkosten mit einer Zahl zu addieren, die groß genug ist, um alle Kantenkosten positiv werden zu lassen. Man könnte zum Beispiel alle Kantenkosten um den Betrag der günstigsten Kante vergrößern. Möchte man Kanten mit Kosten 0 vermeiden, addiert man diesen Betrag + 1. Im untenstehenden Beispiel hat die günstigste Kante Kosten -2, also würden wir zu allen Kosten 3 dazuaddieren.
                    </p>
                    <p><figure class="fig"><img src="img/negativeExample.png" alt="Negatives Beispiel" height="150"><figcaption>Günstigster Weg von a nach g ist a-b-c-d-e-g</figcaption></figure></p>
                    <br clear="all">
                    <p>Bevor wir die Kantenkosten positiv gemacht hatten, war der kürzeste Weg von a nach g der Weg a-b-c-d-e-g mit Gesamtkosten -5 gewesen. Nun ist der kürzeste Weg a-f-g mit Gesamtkosten 6. Da wir in erster Linie an dem kürzesten Weg interessiert waren, ist es nicht so schlimm, dass die Gesamtkosten unterschiedlich sind. Es wurde jedoch ein vollkommen anderer Weg als kürzester Weg gefunden. Also hilft es nicht weiter, wenn wir alle Kanten mit einer großen Zahl addieren.
                    </p>
                    <p><figure class="fig"><img src="img/negativeExample2.png" alt="Negatives Beispiel mit positiven Kantenkosten" height="150"><figcaption>Günstigster Weg von a nach g ist a-f-g</figcaption></figure></p>
                    <br clear="all">
                    <p>Um mit negativen Kantenkosten umgehen zu können, müsste auch jeder bereits abgearbeitete Knoten wieder aktualisiert werden können, falls ein noch kürzerer Weg zu ihnen gefunden wurde. Ein Algorithmus, der das kann, ist der <a href="http://www-m9.ma.tum.de/material/spp/Bellman-Ford-Algorithmus.html">Bellman-Ford-Algorithmus</a></p>
                </div>
                <h3>Wo finde ich noch mehr Informationen zu Graphalgorithmen?</h3>
                <div>
                    <p>
                        Weitere Graphalgorithmen werden auf der <a href="http://www-m9.ma.tum.de/Allgemeines/Routenplanung">Webseite des Lehrstuhls M9</a> der TU München erklärt.
                    </p>
                    <p>
                        Außerdem gibt es ein interessantes Buch zu kürzesten Wegen: <a href="http://www-m9.ma.tum.de/Ruth/WebHome">Das Geheimnis des kürzesten Weges</a>
                    </p>
                    <p>
                        Ein <a href="http://www.ma.tum.de/Studium/Studieninteressierte">Mathematikstudium an der TU München</a> beantwortet alle Fragen zur Graphentheorie (falls eine Lösung bekannt ist).
                    </p>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p class="Disclaimer">
            IDP Projekt von Lisa Velden am Lehrstuhl M9 der Technischen Universität München. 2014 | <a href="http://www-m9.ma.tum.de/Allgemeines/Rechtliches">Disclaimer und Rechtshinweise</a> | <a href="http://www-m9.ma.tum.de/Allgemeines/Impressum">Impressum</a> | <a href="mailto&#58;m&#46;ritter&#64;ma&#46;tum&#46;de&#63;subject&#61;M9&#45;Web&#45;Feedback">Anregungen</a>
        </p>
    </footer>
</body>
